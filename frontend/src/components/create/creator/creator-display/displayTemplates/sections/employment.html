<!-- Experience Section -->
<div id="experience-section">

  <script type="text/ng-template" id="employmentPopover.html">
    <button ng-click="$ctrl.removeSection('employment')">
      Hide Section
    </button>
  </script>

  <div class="section-heading"
       ng-click="$ctrl.popoverOpen(true, sectionItem.section); $ctrl.buildPopupTitle(sectionItem.section);"
       ng-mouseenter="$ctrl.popoverOpen('alt', sectionItem.section)"
       ng-mouseleave="$ctrl.popoverOpen(false, sectionItem.section)"
       popover-trigger="none"
       popover-is-open="$ctrl.optionsOpen.employment"
       uib-popover-template="$ctrl.sectionOptions()" >
                  <textarea class="editable section-heading-edit"
                            ng-class="[$ctrl.primaryColor, $ctrl.headingFont]"
                            placeholder="Experience"
                            maxlength="100"
                            spellcheck="false"
                            autocomplete="off"
                            rows="1"
                            ng-change="$ctrl.dirtyValue(true)"
                            ng-model="$ctrl.templateData.labels.employment">
                  </textarea>
  </div>

  <div class="experience"
       ng-repeat="employment in $ctrl.templateData.employment"
       ng-if="employment.show" >
    <div class="experience-item" page-link page-break >
      <div class="position-item">
        <textarea class="editable position-item-edit"
                  ng-click="$ctrl.popoverOpenItem(true, sectionItem.section, $index)"
                  ng-mouseenter="$ctrl.popoverOpenItem('alt', sectionItem.section, $index)"
                  ng-mouseleave="$ctrl.popoverOpenItem(false, sectionItem.section, $index)"
                  popover-trigger="none"
                  popover-is-open="$ctrl.optionsOpenItem[sectionItem.section][$index]"
                  uib-popover-template="$ctrl.sectionOptions('detailsNoIconOptions')"
                  ng-class="[$ctrl.primaryColor, $ctrl.subHeadingFont]"
                  placeholder="Title/Position"
                  maxlength="100"
                  spellcheck="false"
                  autocomplete="off"
                  rows="1"
                  ng-change="$ctrl.dirtyValue(true)"
                  ng-model="$ctrl.templateData.employment[$index].position"
                  msd-elastic>
        </textarea>
      </div>
      <div class="company">
        <textarea class="editable company-edit"
                  ng-class="[$ctrl.secondaryColor, $ctrl.bodyFont]"
                  placeholder="Company"
                  maxlength="100"
                  spellcheck="false"
                  autocomplete="off"
                  rows="1"
                  ng-change="$ctrl.dirtyValue(true)"
                  ng-model="$ctrl.templateData.employment[$index].company"
                  msd-elastic>
        </textarea>

        <div class="date-location">
          <div class="date">
            <i class="fa icon"
               ng-class="[$ctrl.secondaryColor, $ctrl.templateData.design.style_options.calendar_icon]"
               ng-click="$ctrl.closeBasicPopover['calEmp' + $index] = true;"
               popover-trigger="outsideClick"
               popover-is-open="$ctrl.closeBasicPopover['calEmp'  + $index]"
               popover-placement="right"
               uib-popover-template="$ctrl.sectionOptions('calendarIconSelect')">
            </i>
            <textarea class="editable date-edit"
                      ng-class="[$ctrl.primaryColor, $ctrl.bodyFont]"
                      placeholder="Date Period"
                      maxlength="100"
                      spellcheck="false"
                      autocomplete="off"
                      rows="1"
                      ng-change="$ctrl.dirtyValue(true)"
                      ng-model="$ctrl.templateData.employment[$index].startDate"
                      msd-elastic>
          </textarea>
          </div>

          <div class="location">
            <i class="fa fa-map-marker icon" ng-class="$ctrl.secondaryColor">
            </i>
            <textarea class="editable location-edit"
                      ng-class="[$ctrl.primaryColor, $ctrl.bodyFont]"
                      placeholder="Location"
                      maxlength="100"
                      spellcheck="false"
                      autocomplete="off"
                      rows="1"
                      ng-change="$ctrl.dirtyValue(true)"
                      ng-model="$ctrl.templateData.employment[$index].location.city"
                      msd-elastic>
          </textarea>
          </div>
        </div>
        <div class="experience-details">
          <!-- <div class="experience-details-heading">-->
          <script type="text/ng-template" id="experienceDetailPopover.html">
            <button ng-click="$ctrl.templateData.employment[$index].details.push({detail:'', show: true})">
              Add Detail(s)
            </button>
          </script>
          <textarea popover-trigger="'outsideClick'"
                    uib-popover-template="$ctrl.sectionOptions('experienceDetail')"
                    class="editable details-heading-edit"
                    ng-class="[$ctrl.secondaryColor, $ctrl.bodyFont]"
                    placeholder="Company Description"
                    maxlength="100"
                    spellcheck="false"
                    autocomplete="off"
                    rows="1"
                    ng-change="$ctrl.dirtyValue(true)"
                    ng-model="$ctrl.templateData.employment[$index].summary"
                    msd-elastic>
        </textarea>
          <!--  </div> -->
          <div class="details-description-container">
            <div ng-repeat="detail in $ctrl.templateData.employment[$index].details">
              <i ng-if="detail.show" class="fa fa-circle bullet" ng-class="$ctrl.secondaryColor">
              </i>
              <textarea ng-if="detail.show"
                        class="editable details-content-edit"
                        ng-class="[$ctrl.primaryColor, $ctrl.bodyFont]"
                        placeholder="What was an example of a successful outcome of this activity?"
                        maxlength="120"
                        spellcheck="false"
                        autocomplete="off"
                        rows="1"
                        ng-change="$ctrl.dirtyValue(true)"
                        ng-model="detail.detail"
                        msd-elastic>
          </textarea>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>  <!-- Experience Section End -->